# Еженедельные отчеты

Это исходники того, что хостится на https://weekly.oskarsh.ru. Всё построено вокруг
[hugo](https://gohugo.io/): он простой и удобный, попробуйте его сами!  Используется
модифицированная версия темы [PaperMod](https://github.com/adityatelange/hugo-PaperMod).

## Как я пишу

Чтобы добавить новую запись, я создаю новый файл `./bin/new $SLUG`.  По-хорошему, лучше
делать это с помощью `hugo new posts/$SLUG/index.md`.

Иногда я хочу подсунуть медиа-файлы. И lossless (png), и lossy (jpg) изображения я
превращаю в webp с помощью [cwebp](https://developers.google.com/speed/webp/), для этого
даже есть `./bin/convertimage`. Видео локально тоже хочется прикреплять, для них
установлен плагин [hugo-video](https://github.com/martignoni/hugo-video).

Чтобы получить статические файлы, которые потом можно подсунуть любому веб-серверу, я пишу
`hugo build`. Но локально удобнее постоянно держать `hugo server -D`.

Когда я решил, что запись готова, я отменяю ей флажок "draft: true", делаю коммит и пуш в
ветку main. Github Actions сам совершит сборку и развертку на моем сервере, взяв
конфигурацию из `./deployment/`.
